<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<#if isEdit>
<title>修改房间信息</title>
<#else>
<title>发布房间</title>
</#if>
<#include "/common/macro/seoPerson.ftl"> 
<link href="<@sp.static/>/css/pay/public.css?v=${cssVersion}.css" rel="stylesheet" type="text/css">
<link href="<@sp.static/>/css/pay/pay.css?v=${cssVersion}.css" rel="stylesheet" type="text/css">
<link href="<@sp.static/>/css/dialog/jquery-ui.custom.css" rel="stylesheet" type="text/css">
</head>
<script src="<@sp.static/>/js/pay/common/common.js" type="text/javascript"></script>
<script type="text/javascript" src="<@sp.static/>/js/pay/common/jquery-1.3.2.js"></script>
<script type="text/javascript" src="<@sp.static/>/js/pay/common/plugins/formValidator.js"></script>
<script type="text/javascript" src="<@sp.static/>/js/pay/common/plugins/formValidatorRegex.js"></script>
<script type="text/javascript" src="<@sp.static/>/js/pay/common/plugins/jquery-ui.js"></script>
<script type="text/javascript" src="<@sp.static/>/js/pay/common/pay-dialog.js"></script>
<body>
<!--导航 str-->
<@sp.head mCode="mpay_add_index"/>
<!--导航 end--> 
<!--主内容 str -->
<div class="container">
	<div class="mod_box_a">
		<p class="top"><i></i></p>
		<div class="con_box has_bg">
		<#if roomsCount?has_content>
			<#if isEdit>
			<div class="tit_box">
				<div class="title sub_nav3"><strong class="cur">修改房间信息</strong></div>

			</div>
			<div class="step">
				<ol class="step-1">
					<!-- 改变ol里的step-数字 即可 1.2.3.4 -->
					<li class="li-1 last">1、修改房间信息</li>
					<li class="li-2 last">2、修改成功</li>
				</ol>
			</div>

		<#else>
		<div class="tit_box">
				<div class="title sub_nav3"><strong class="cur">发布房间</strong></div>

			</div>
			<div class="step">
				<ol class="step-1">
					<!-- 改变ol里的step-数字 即可 1.2.3.4 -->
					<li class="li-1 last">1、填写房间信息</li>
					<li class="li-2 last">2、发布成功</li>
				</ol>
			</div>
		</#if>
			
			
			
			<div class="ico_txtBox mt10"><i class="warn_ico"></i> 一个酒店产品可添加最多<span class="blue">10</span>个房型信息 </div>
		<form class=""  id="form0" method="post" action="${rc.contextPath}/corp/hotelmanage.htm" >
				<div class="pb_sort"><span class="blod">${hotelDto.productName?default("")}</span> (当前房间数<strong class="red">${roomsCount}</strong>)</div>
				<div class="details_list2">
				<ul class="form_list">
					<li class="users_pro_pic">
						<label class="form_side"><span>*</span>房型名称：</label>
						<input type="text" class="inp_normal w200"  id="roomName"  name="roomName" maxlength="30" />
						<p class="g_tips red" id="roomNameTip"></p>
					</li>
					<li>
						<label class="form_side"><span>*</span>房间价格：</label>
						<input type="text" class="inp_normal w80" id="price" name="price"  maxlength="10" /> 元/天
						<p class="g_tips red" id="priceTip"></p>
					</li>
						<li>
						<label class="form_side">面积：</label>
						<input type="text" class="inp_normal w80" id="area" name="area"  maxlength="3"/> 
						<p class="g_tips red" id="areaTip"></p>
					</li>
					<li>
						<label class="form_side"><span>*</span>宽带：</label>
						<select class="inp_normal w200" id="broadband" name="broadband">
							<option value="">请选择</option>
							<option value="有宽带">有</option>
							<option value="无宽带">无</option>
						</select>
						<p class="g_tips red" id="broadbandTip"></p>
					</li>
					
					<li>
						<label class="form_side"><span>*</span>支付方式：</label>
						<select class="inp_normal w200" id="payType" name="payType">
							<option value="">请选择</option>
							<option value="1">预付房款</option>
							<option value="2">离店结算</option>
						</select>
						<p class="g_tips red" id="payTypeTip"></p>
					</li> 
					<li>
						<label class="form_side"><span>*</span>床型：</label>
						<select class="inp_normal w200"  id="bedType" name="bedType">
							<option value="">请选择</option>
							<option value="双床">双床</option>
							<option value="大床">大床</option>
							<option value="大/双床">大/双床</option>
						</select>
						<p class="g_tips red" id="bedTypeTip"></p>
					</li>
					<li>
						<label class="form_side">早餐：</label>
						<select class="inp_normal w200" id="breakfast" name="breakfast" /> 
							<option value="">请选择</option>
							<option value="包含">包含</option>
							<option value="不包含">不包含</option>
						</select>
							<p class="g_tips red" id="breakfastTip"></p>
					</li>
				</ul>
				<ul class="form_list mb20">
					<li class="btn"><span class="btn_yel">
						<button id="submitButton" name="submitButton" tabindex="4" type="submit">确认提交</button>
						</span> <a href="${rc.contextPath}/corp/hotelquery.htm" class="blues ml30" >返 回</a></li>
				</ul>
				</div>
				<#if isEdit>
				<input type="hidden"  id="method"  name="method" value="updateRoom" />
				<#else>
				<input type="hidden"  id="method"  name="method" value="saveRoom" />	
				</#if>
				<input type="hidden"  id="hotelProductId" name="hotelProductId" value="${hotelDto.hotelProductId}" />
				<input type="hidden"  id="hotelRoomId" name="hotelRoomId" value="" />
				<input type="hidden"   id="roomType"  name="roomType" value="000"/>
				
				
			</form>
	<#else>
				<p align="center">
					<strong class="cur">不存在该房间或酒店信息</strong>
					<a href="${rc.contextPath}/corp/hotelquery.htm" class="blues ml30" >返 回</a>
				</p>
	</#if>
		</div>
		<p class="bot"><i></i></p>
	</div>
</div>
<!--主内容 end -->


</div>
<!--footer -->
	<#include "/common/include/footer.html">
</body>
<script type="text/javascript">
	$(function(){
		
		
		$("input").blur(function(){
			$(this).val($(this).val().trim());
		});
		
		<#if roomDto?has_content>
				$("#roomType").val("${roomDto.roomType!'000'}");
				$("#roomName").val("${roomDto.roomName!''}");
				$("#price").val("${(roomDto.price/1000)?string("##0.00")}");
				$("#area").val("${roomDto.area!""}");
				$("#broadband").val("${roomDto.broadband!''}");
				$("#bedType").val("${roomDto.bedType!''}");
				$("#breakfast").val("${roomDto.breakfast!""}");
				$("#hotelRoomId").val("${roomDto.hotelRoomId}");
				$("#payType").val("${roomDto.payType!''}");
				
				
		</#if>
		
		

				
				$.formValidator.initConfig({formid:"form0",onerror:function(msg,obj){}});
				
				/* $("#roomType").formValidator({tipid:"roomTypeTip",onshow:"请输入房型",onfocus:"请输入房型",oncorrect:"　"})
				.inputValidator({min:1,empty:false,onerror:"请输入房型"}); */
				$("#roomName").formValidator({tipid:"roomNameTip",empty:false,onshow:"请输入房型名称",onfocus:"请输入房型名称",oncorrect:"　"})
				.inputValidator({min:1,onerror:"请输入房型名称"});
				$("#price").formValidator({tipid:"priceTip",empty:false,onshow:"请输入房间的价格",onfocus:"请输入房间的价格",oncorrect:"　"})
				.inputValidator({min:0.01,max:99999999.99,type:"value",onerrormin:"你输入的值必须大于等于0.01",onerrormax:"你输入的值必须小于等于99999999.99"})
				.regexValidator({regexp:"amount",datatype:"enum",onerror:"你输入的酒店价格格式不正确"});
				
				$("#area").formValidator({tipid:"areaTip",onshow:"请输入房间面积",onfocus:"请输入房间面积",empty:true,oncorrect:"　"})
				.inputValidator({onerror:"请输入房间面积"})
				.regexValidator({regexp:"^\\d{1,3}$",onerror:"面积请输入正整数，如：12"});
				
				$("#payType").formValidator({tipid:"payTypeTip",empty:false,onshow:"请选择支付方式",onfocus:"请选择支付方式",oncorrect:"　"})
				.inputValidator({min:1,onerror:"请选择支付方式"});
				
				$("#broadband").formValidator
				({tipid:"broadbandTip",empty:false,onshow:"请选择宽带情况",onfocus:"请选择宽带情况",oncorrect:"　"})
				.inputValidator({min:1,onerror:"请选择宽带情况"});
				
				$("#bedType").formValidator({tipid:"bedTypeTip",empty:false,onshow:"请选择床型",onfocus:"请选择床型",oncorrect:"　"})
				.inputValidator({min:1,onerror:"请选择床型"});
						
				
				$("#breakfast").formValidator({tipid:"breakfastTip",empty:false,onshow:"请选择早餐情况",onfocus:"请选择早餐情况",oncorrect:"　"})
				.inputValidator({onerror:"请选择早餐情况"});
});
	
	
	
	
	
	function deleteImg(img,li){
		$("#"+li).hide();
		var file = $("#"+img);
		file.after(file.clone().val(""));  
		file.remove();  
	}

</script>
</html>
